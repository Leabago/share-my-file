{{template "base" .}}
{{define "title"}}Snippet{{end}}
{{define "main"}}
<p>
    show page
</p>

{{with .File}}
<div class="file">
    <div class="metadata">
        <strong>{{.FolderCode}}</strong>
    </div>

    <div>
        <strong>{{.Exist}}</strong>
    </div>

    <div>
        <strong>{{.URL}}</strong>
    </div>

    <!-- The text field -->
    <input type="url" value={{.URL}} id="myInput" readonly>

    <div id="tooltip">
        <button onclick="myFunction()" onmouseout="outFunc()">
            <span class="tooltiptext" id="myTooltip">Copy to clipboard</span>
            Copy text
        </button>
    </div>

    <div>
        <img src="data:image/png;base64,{{.QRcodeBase64}}" />
    </div>


    {{if .Exist}}
    <div>
        <a href="/archive/download/{{.FolderCode}}">Download</a>
    </div>
    {{end}}


    <div>
        <ul>
            {{ range .FileNameList }}
            <li>{{ . }}</li>
            {{ end }}
        </ul>
        `
    </div>

    <!-- <a href="/archive/download/{{.FolderCode}}" download="proposed_file_name">Download</a> -->

    <!-- {{if .Exist}}
    <button type="button" onClick="window.location.reload()">
        <a href="/archive/download/{{.FolderCode}}">Download</a>
     </button>
     {{end}} -->

</div>

<script>
    function myFunction() {
        // Get the text field
        var copyText = document.getElementById("myInput");

        // Select the text field
        copyText.select();
        copyText.setSelectionRange(0, 99999); // For mobile devices

        // Copy the text inside the text field
        navigator.clipboard.writeText(copyText.value);

        // Alert the copied text
        alert("Copied the text: " + copyText.value);
    }

    function outFunc() {
        var tooltip = document.getElementById("myTooltip");
        tooltip.innerHTML = "Copy to clipboard";
    }
</script>

<!-- <style>
    .tooltip {
      position: relative;
      display: inline-block;
    }
    
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 140px;
      background-color: #555;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 150%;
      left: 50%;
      margin-left: -75px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #555 transparent transparent transparent;
    }
    
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    </style> -->

{{end}}

{{end}}